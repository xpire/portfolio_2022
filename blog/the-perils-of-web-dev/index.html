<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.11.2"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link as="script" rel="preload" href="/webpack-runtime-dfbc60d330bf24dc7417.js"/><link as="script" rel="preload" href="/framework-b4c2e49b0265e11fe0b1.js"/><link as="script" rel="preload" href="/05d954cf-2e4067c921aee2b6a16a.js"/><link as="script" rel="preload" href="/app-078b13763d99a0957e00.js"/><link as="fetch" rel="preload" href="/page-data/blog/the-perils-of-web-dev/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2744905544.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3935399047.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.documentElement.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion="css-global f4iio2">html{--theme-ui-colors-text:#202124;--theme-ui-colors-background:#fff;--theme-ui-colors-primary:#1a73e8;--theme-ui-colors-secondary:#9c27b0;--theme-ui-colors-muted:#767c89;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);}html.theme-ui-light,.theme-ui-light html{--theme-ui-colors-text:#202124;--theme-ui-colors-background:#fff;--theme-ui-colors-primary:#1a73e8;--theme-ui-colors-secondary:#9c27b0;--theme-ui-colors-muted:#767c89;}html.theme-ui-dark,.theme-ui-dark html{--theme-ui-colors-text:#fff;--theme-ui-colors-background:#202124;--theme-ui-colors-primary:#1a73e8;--theme-ui-colors-secondary:#9c27b0;--theme-ui-colors-muted:#a5aab4;}</style><style data-emotion="css-global 18o3y6r">*{box-sizing:border-box;}html{font-family:Roboto,system-ui,sans-serif;line-height:1.5;font-weight:400;}body{margin:0;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css ylz6b4">.css-ylz6b4{--theme-ui-colors-text:#202124;--theme-ui-colors-background:#fff;--theme-ui-colors-primary:#1a73e8;--theme-ui-colors-secondary:#9c27b0;--theme-ui-colors-muted:#767c89;}.css-ylz6b4.theme-ui-light,.theme-ui-light .css-ylz6b4{--theme-ui-colors-text:#202124;--theme-ui-colors-background:#fff;--theme-ui-colors-primary:#1a73e8;--theme-ui-colors-secondary:#9c27b0;--theme-ui-colors-muted:#767c89;}.css-ylz6b4.theme-ui-dark,.theme-ui-dark .css-ylz6b4{--theme-ui-colors-text:#fff;--theme-ui-colors-background:#202124;--theme-ui-colors-primary:#1a73e8;--theme-ui-colors-secondary:#9c27b0;--theme-ui-colors-muted:#a5aab4;}</style><div data-themeui-nested-provider="true" class="css-ylz6b4"><style data-emotion="css qin9tw">.css-qin9tw{box-sizing:border-box;margin:0;min-width:0;width:100%;max-width:container;margin-left:auto;margin-right:auto;max-width:1200px;width:100%;margin-left:auto;margin-right:auto;padding-left:16px;padding-right:16px;}</style><div class="css-qin9tw"><style data-emotion="css 1jf4m4z">.css-1jf4m4z{padding-left:4px;padding-right:4px;padding-top:32px;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;}</style><style data-emotion="css 1517jte">.css-1517jte{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-left:4px;padding-right:4px;padding-top:32px;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;}</style><header class="css-1517jte"><style data-emotion="css f5x5k7">.css-f5x5k7{height:72px;width:72px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><style data-emotion="css x0mgp8-IconButton">.css-x0mgp8-IconButton{box-sizing:border-box;margin:0;min-width:0;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;padding:4px;width:32px;height:32px;color:inherit;background-color:transparent;border:none;border-radius:4px;height:72px;width:72px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><button class="css-x0mgp8-IconButton"><style data-emotion="css 1wjgolj">.css-1wjgolj{font-size:48px;margin:0;padding-bottom:8px;}</style><style data-emotion="css otzcoq">.css-otzcoq{box-sizing:border-box;margin:0;min-width:0;font-family:Roboto,system-ui,sans-serif;font-weight:400;line-height:1.125;font-size:48px;margin:0;padding-bottom:8px;}</style><h2 class="css-otzcoq">J</h2><svg width="3em" height="3em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="transform-origin:50% 50%"><circle cx="11.9998" cy="11.9998" r="5.75375" fill="currentColor" style="transform:scale(1.5);transform-origin:0px 0px"></circle><g style="transform:rotate(45deg);transform-origin:0px 0px"><circle cx="3.08982" cy="6.85502" r="1.71143" transform="rotate(-60 3.08982 6.85502)" fill="currentColor"></circle><circle cx="3.0903" cy="17.1436" r="1.71143" transform="rotate(-120 3.0903 17.1436)" fill="currentColor"></circle><circle cx="12" cy="22.2881" r="1.71143" fill="currentColor"></circle><circle cx="20.9101" cy="17.1436" r="1.71143" transform="rotate(-60 20.9101 17.1436)" fill="currentColor"></circle><circle cx="20.9101" cy="6.8555" r="1.71143" transform="rotate(-120 20.9101 6.8555)" fill="currentColor"></circle><circle cx="12" cy="1.71143" r="1.71143" fill="currentColor"></circle></g></svg></button><style data-emotion="css mznt71">.css-mznt71{height:72px;width:72px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;}</style><style data-emotion="css 5oct1l-IconButton">.css-5oct1l-IconButton{box-sizing:border-box;margin:0;min-width:0;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;padding:4px;width:32px;height:32px;color:inherit;background-color:transparent;border:none;border-radius:4px;height:72px;width:72px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;}</style><button class="css-5oct1l-IconButton"><svg viewBox="0 0 1000 1000" height="32x" width="32px"><path fill="var(--theme-ui-colors-text)" d="M230.5,499l496,491l43-54.8L284.9,444L230.5,499z"></path><path fill="var(--theme-ui-colors-text)" d="M286.6,554L750.9,64l-44.6-54L230.5,499.4L286.6,554z"></path></svg></button></header><style data-emotion="css wnz4ls">.css-wnz4ls{font-weight:300;margin:0;}</style><style data-emotion="css 1do2557">.css-1do2557{color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:16px;font-weight:300;margin:0;}</style><h6 class="css-1do2557">March 12th, 2020</h6><style data-emotion="css 17490uu">.css-17490uu{color:var(--theme-ui-colors-muted);margin:0;}</style><style data-emotion="css ff7xx3">.css-ff7xx3{color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:24px;color:var(--theme-ui-colors-muted);margin:0;}@media screen and (min-width: 52em){.css-ff7xx3{font-size:32px;}}</style><h4 class="css-ff7xx3"><code class="css-1avyp1d">/blog</code></h4><style data-emotion="css 1lkklub">.css-1lkklub{margin-top:0;}</style><style data-emotion="css 11iefvm">.css-11iefvm{color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:48px;margin-top:0;}@media screen and (min-width: 52em){.css-11iefvm{font-size:64px;}}</style><h2 class="css-11iefvm">The Quest for a cool header design</h2><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper"><div aria-hidden="true" style="padding-top:80.49225159525982%"></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,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" alt=""/><picture><source type="image/webp" data-srcset="/static/7a69fe6d8915e7232d1a0fb832e52ee6/379db/coolheaderdesign.webp 750w,/static/7a69fe6d8915e7232d1a0fb832e52ee6/2a0e5/coolheaderdesign.webp 1080w,/static/7a69fe6d8915e7232d1a0fb832e52ee6/03eea/coolheaderdesign.webp 1097w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" data-src="/static/7a69fe6d8915e7232d1a0fb832e52ee6/d3113/coolheaderdesign.png" data-srcset="/static/7a69fe6d8915e7232d1a0fb832e52ee6/97226/coolheaderdesign.png 750w,/static/7a69fe6d8915e7232d1a0fb832e52ee6/3afb7/coolheaderdesign.png 1080w,/static/7a69fe6d8915e7232d1a0fb832e52ee6/d3113/coolheaderdesign.png 1097w" alt="The Quest for a cool header design blog image"/></picture><noscript><picture><source type="image/webp" srcSet="/static/7a69fe6d8915e7232d1a0fb832e52ee6/379db/coolheaderdesign.webp 750w,/static/7a69fe6d8915e7232d1a0fb832e52ee6/2a0e5/coolheaderdesign.webp 1080w,/static/7a69fe6d8915e7232d1a0fb832e52ee6/03eea/coolheaderdesign.webp 1097w" sizes="100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="100vw" decoding="async" loading="lazy" src="/static/7a69fe6d8915e7232d1a0fb832e52ee6/d3113/coolheaderdesign.png" srcSet="/static/7a69fe6d8915e7232d1a0fb832e52ee6/97226/coolheaderdesign.png 750w,/static/7a69fe6d8915e7232d1a0fb832e52ee6/3afb7/coolheaderdesign.png 1080w,/static/7a69fe6d8915e7232d1a0fb832e52ee6/d3113/coolheaderdesign.png 1097w" alt="The Quest for a cool header design blog image"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><div data-themeui-nested-provider="true" class="css-ylz6b4"><style data-emotion="css 1oakn4d">.css-1oakn4d{color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.5;font-weight:400;}</style><style data-emotion="css 1o0jogz">.css-1o0jogz{color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.5;font-weight:400;color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.5;font-weight:400;}</style><style data-emotion="css 1yn88va">.css-1yn88va{color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.5;font-weight:400;color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.5;font-weight:400;color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.5;font-weight:400;}</style><p class="css-1yn88va">When I first came up with the idea to highlight the current page with a rounded box, it sounded really easy to implement. I even decided to go really simple and make it just invert the background. So in <code class="css-mwukus">light</code> mode, it would be a black box which had white text insde, and the opposite for dark mode. What could go wrong?</p><style data-emotion="css o0nhmr">.css-o0nhmr{display:block;width:100%;padding-left:16px;padding-right:16px;margin-left:0;margin-top:16px;margin-bottom:16px;line-height:1.75;border:1px solid;border-color:var(--theme-ui-colors-muted);background-color:var(--theme-ui-colors-background);color:var(--theme-ui-colors-text);border-radius:5px;}</style><style data-emotion="css ar87g6">.css-ar87g6{display:block;width:100%;padding-left:16px;padding-right:16px;margin-left:0;margin-top:16px;margin-bottom:16px;line-height:1.75;border:1px solid;border-color:var(--theme-ui-colors-muted);background-color:var(--theme-ui-colors-background);color:var(--theme-ui-colors-text);border-radius:5px;display:block;width:100%;padding-left:16px;padding-right:16px;margin-left:0;margin-top:16px;margin-bottom:16px;line-height:1.75;border:1px solid;border-color:var(--theme-ui-colors-muted);background-color:var(--theme-ui-colors-background);color:var(--theme-ui-colors-text);border-radius:5px;}</style><style data-emotion="css 1f5457a">.css-1f5457a{display:block;width:100%;padding-left:16px;padding-right:16px;margin-left:0;margin-top:16px;margin-bottom:16px;line-height:1.75;border:1px solid;border-color:var(--theme-ui-colors-muted);background-color:var(--theme-ui-colors-background);color:var(--theme-ui-colors-text);border-radius:5px;display:block;width:100%;padding-left:16px;padding-right:16px;margin-left:0;margin-top:16px;margin-bottom:16px;line-height:1.75;border:1px solid;border-color:var(--theme-ui-colors-muted);background-color:var(--theme-ui-colors-background);color:var(--theme-ui-colors-text);border-radius:5px;display:block;width:100%;padding-left:16px;padding-right:16px;margin-left:0;margin-top:16px;margin-bottom:16px;line-height:1.75;border:1px solid;border-color:var(--theme-ui-colors-muted);background-color:var(--theme-ui-colors-background);color:var(--theme-ui-colors-text);border-radius:5px;}</style><blockquote class="css-1f5457a"><p class="css-1yn88va">everything.</p></blockquote><p class="css-1yn88va">Lets go through some of the blood sweat and tears I went through so you don&#x27;t have to go through the same!</p><style data-emotion="css 18i04qp">.css-18i04qp{color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:3rem;}</style><style data-emotion="css bwnkd9">.css-bwnkd9{color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:3rem;color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:3rem;}</style><style data-emotion="css 1len2hw">.css-1len2hw{color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:3rem;color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:3rem;color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:3rem;}</style><h1 class="css-1len2hw">Inverting Colors</h1><p class="css-1yn88va">Essentially, I saw this css-tricks article about <style data-emotion="css ttyvc7">.css-ttyvc7{color:var(--theme-ui-colors-primary);}</style><style data-emotion="css 1l5zz8r">.css-1l5zz8r{color:var(--theme-ui-colors-primary);color:var(--theme-ui-colors-primary);}</style><style data-emotion="css zjwr65">.css-zjwr65{color:var(--theme-ui-colors-primary);color:var(--theme-ui-colors-primary);color:var(--theme-ui-colors-primary);}</style><a href="https://css-tricks.com/methods-contrasting-text-backgrounds/" class="css-zjwr65">contrasting text backgrounds</a> which involved using the <code class="css-mwukus">mix-blend-mode: difference;</code> CSS on the foreground so that it would invert its background. This would work flawlessly for the dark background with white foreground, and its also the example they gave in this article:</p><deckgo-highlight-code language="css">
          <code slot="code" class="css-mwukus">header {
  background: url(black-and-white-image.jpg);
}

h2 {
  color: white;
  mix-blend-mode: difference;
}</code>
        </deckgo-highlight-code><p class="css-1yn88va">However, try to do it for the opposite case and things come crashing down.</p><style data-emotion="css ydlsvm">.css-ydlsvm{color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:2.25rem;}</style><style data-emotion="css 19f5q4">.css-19f5q4{color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:2.25rem;color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:2.25rem;}</style><style data-emotion="css 6o8xfl">.css-6o8xfl{color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:2.25rem;color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:2.25rem;color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:2.25rem;}</style><h2 class="css-6o8xfl">Try 1: backdrop-filter</h2><p class="css-1yn88va">I initially tried using this CSS, which applies a filter to the background of this image - this is actually how I have blurred everything when a user clicks the sandwich menu in mobile view. When combined with <code class="css-mwukus">contrast(2)</code> I was able to get commendable results on chrome. However, as soon as I tried using the website with firefox, the backdrop filter was no where to be found! This is because Mozilla Firefox have <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter" class="css-zjwr65">hidden the feature behind an experimental flag</a>...</p><h2 class="css-6o8xfl">Try 2: back to mix-blend-mode</h2><p class="css-1yn88va">So I went back to the original method, and decided on figuring out how to have this inverted color idea work for both light and dark modes. Essentially, I&#x27;ve found that I need to do the following things:</p><style data-emotion="css 79bu0b">.css-79bu0b{margin:1rem 0 1rem 0.9375rem;color:var(--theme-ui-colors-text);padding:0;}</style><style data-emotion="css exvrup">.css-exvrup{margin:1rem 0 1rem 0.9375rem;color:var(--theme-ui-colors-text);padding:0;margin:1rem 0 1rem 0.9375rem;color:var(--theme-ui-colors-text);padding:0;}</style><style data-emotion="css 1sqmp6c">.css-1sqmp6c{margin:1rem 0 1rem 0.9375rem;color:var(--theme-ui-colors-text);padding:0;margin:1rem 0 1rem 0.9375rem;color:var(--theme-ui-colors-text);padding:0;margin:1rem 0 1rem 0.9375rem;color:var(--theme-ui-colors-text);padding:0;}</style><ul class="css-1sqmp6c"><style data-emotion="css 1830aub">.css-1830aub{margin-bottom:0.625rem;font-size:1em;line-height:1.625em;}</style><style data-emotion="css u8ae9d">.css-u8ae9d{margin-bottom:0.625rem;font-size:1em;line-height:1.625em;margin-bottom:0.625rem;font-size:1em;line-height:1.625em;}</style><style data-emotion="css 1rk5nsg">.css-1rk5nsg{margin-bottom:0.625rem;font-size:1em;line-height:1.625em;margin-bottom:0.625rem;font-size:1em;line-height:1.625em;margin-bottom:0.625rem;font-size:1em;line-height:1.625em;}</style><li class="css-1rk5nsg">color the text normally</li><li class="css-1rk5nsg">color the inverting div <style data-emotion="css 119qnnd">.css-119qnnd{font-weight:600;}</style><style data-emotion="css ymj8jc">.css-ymj8jc{font-weight:600;font-weight:600;}</style><style data-emotion="css 7xdqx3">.css-7xdqx3{font-weight:600;font-weight:600;font-weight:600;}</style><strong class="css-7xdqx3">white</strong>, with <code class="css-mwukus">mix-blend-mode: difference</code></li><li class="css-1rk5nsg"><strong class="css-7xdqx3">wrap everything in a div which provides the colors:</strong><ul class="css-1sqmp6c"><li class="css-1rk5nsg"><code class="css-mwukus">background: var(--color-background)</code></li><li class="css-1rk5nsg"><code class="css-mwukus">color: var(--color-text)</code></li><li class="css-1rk5nsg">transitions to make toggling the color easier on the eye</li></ul></li></ul><p class="css-1yn88va">These things in <strong class="css-7xdqx3">bold</strong> took me very long to figure out~</p><p class="css-1yn88va">Especially the <strong class="css-7xdqx3">div that provides colors</strong>, you can&#x27;t apply the color to the body, it needs to be in a div you style, or else in Chrome it results in the <code class="css-mwukus">mix-blend-mode</code> failing, BUT IT WORKS FINE IN FIREFOX!!</p><p class="css-1yn88va">So many times, it would either only work in chrome, only work in firefox, only dark mode works, only light mode works. Shout out to my <a href="https://atharvdamle.com/" class="css-zjwr65">friend</a> who provided me support in my darkest moments, he was the one to suggesting making the inverting div <strong class="css-7xdqx3">white</strong>, very smart guy.</p><p class="css-1yn88va">In code, here is a watered down example consisting only the color variables required to pull off this effect:</p><deckgo-highlight-code language="jsx">
          <code slot="code" class="css-mwukus">// styles
const ColorProvider = styled.div`
  background: var(--color-background);
  color: var(--color-text);
  transition: all 0.25s linear;
`

const Underline = styled(motion.div)`
  mix-blend-mode: difference;
  background-color: white;
`

const StyledLink = styled(Link)`
  color: var(--color-text);
`

// code
;&lt;PageWrapper&gt;
  ...
  &lt;StyledLi&gt;
    &lt;Underline /&gt;
    &lt;StyledLink&gt;{name}&lt;/StyledLink&gt;
  &lt;/StyledLi&gt;
  ...
&lt;/PageWrapper&gt;</code>
        </deckgo-highlight-code><h1 class="css-1len2hw">FOUC</h1><p class="css-1yn88va">Flash of Unstyled Content is a prominent problem in Gatsby, as part of the reason why it can serve content so fast is because it prebuilds all the html. Because it can serve the html so fast, more often than not, the html loads first before CSS styles are loaded in, resulting in blank white unstyled content flickering before the styles load in. I did not like this.</p><h2 class="css-6o8xfl">Try 1 - Maybe Material-ui?</h2><p class="css-1yn88va">I was using <code class="css-mwukus">material-ui</code> as its my goto web-ui toolkit. However, I nearly considered giving up this toolkit while making this website. It appeared that whenever I used their <code class="css-mwukus">themeProvider</code>, it would completely break my styles, display a FOUC, and transitions applied to the body did not apply to any <code class="css-mwukus">material-ui</code> components.</p><p class="css-1yn88va">However, I soon learnt that I was mistaken, as I had followed the documentation for <code class="css-mwukus">material-ui</code> blindly, and used the <code class="css-mwukus">&lt;CssBaseline /&gt;</code> component because they used it. Short answer - this will screw up the original css in the page. This was particularly bad for my case, as I needed to define the themes with css variables or else a FOUC would occur on every page load as Gatsby would not know about the style.</p><p class="css-1yn88va">However, even without <code class="css-mwukus">&lt;CssBaseline /&gt;</code>, things were still going sour, FOUC was showing, I was still awake at 2am trying to fix this.</p><h2 class="css-6o8xfl">Try 2 - styled(components)</h2><p class="css-1yn88va">TURNS OUT: I&#x27;ve been applying global styles through a component <code class="css-mwukus">createGlobalStyle</code> from <code class="css-mwukus">&#x27;styled-components&#x27;</code>. This applied a style to the body which set the <code class="css-mwukus">background-color</code> and <code class="css-mwukus">color</code>. It doesn&#x27;t seem to work immediately on page load, resulting in a flash of white in dark mode, before a transition to the proper color. So now, I create my own div styled with in-line CSS defining those color css variables. The result works like a charm!</p><deckgo-highlight-code language="jsx">
          <code slot="code" class="css-mwukus">const ColorProvider = styled.div`
  background: var(--color-background);
  color: var(--color-text);
  transition: all 0.25s linear;
`

const Layout: React.FC = ({ children }) =&gt; {
  return (
    &lt;&gt;
      &lt;ColorProvider&gt;
        &lt;Header /&gt;
        {children}
        &lt;Footer /&gt;
      &lt;/ColorProvider&gt;
    &lt;/&gt;
  )
}</code>
        </deckgo-highlight-code><p class="css-1yn88va">This is only the stuff I remembered that I fixed, there was so much trial and error, and me reloading the site 100 times, that I&#x27;ve probably forgotten half of the stuff I tried to do to fix these problems I had.</p></div><style data-emotion="css 1vplgj8">.css-1vplgj8{margin-top:64px;margin-bottom:64px;margin-left:auto;margin-right:auto;}</style><style data-emotion="css 1r7chrq">.css-1r7chrq{box-sizing:border-box;margin:0;min-width:0;margin-top:64px;margin-bottom:64px;margin-left:auto;margin-right:auto;}</style><div class="css-1r7chrq"><style data-emotion="css 5fg4yr">.css-5fg4yr{color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:48px;}@media screen and (min-width: 52em){.css-5fg4yr{font-size:64px;}}</style><h2 class="css-5fg4yr">Contact</h2><style data-emotion="css 1gkbje0">.css-1gkbje0{color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:20px;}@media screen and (min-width: 52em){.css-1gkbje0{font-size:24px;}}</style><h5 class="css-1gkbje0">Feel free to reach out if you&#x27;re looking for a software developer, want to connect or have a question.</h5><style data-emotion="css 1f6sakg">.css-1f6sakg{color:var(--theme-ui-colors-primary);}</style><a href="mailto:me@justinor.dev" target="_blank" rel="noopener" class="css-1f6sakg"><style data-emotion="css 1e988pp">.css-1e988pp{margin-bottom:16px;margin-top:16px;}</style><style data-emotion="css 1e6376t">.css-1e6376t{color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:20px;margin-bottom:16px;margin-top:16px;}@media screen and (min-width: 52em){.css-1e6376t{font-size:24px;}}</style><h5 class="css-1e6376t">me@justinor.dev</h5></a><a href="https://github.com/xpire" target="_blank" rel="noopener" class="css-1f6sakg"><h5 class="css-1e6376t">github/xpire</h5></a><a href="https://www.linkedin.com/in/justinor" target="_blank" rel="noopener" class="css-1f6sakg"><h5 class="css-1e6376t">linkedin/in/justinor</h5></a></div><div class="css-1r7chrq"><style data-emotion="css wo81d0">.css-wo81d0{font-weight:300;text-transform:uppercase;}</style><style data-emotion="css 178djrr">.css-178djrr{color:var(--theme-ui-colors-text);font-family:Roboto,system-ui,sans-serif;line-height:1.125;font-weight:400;font-size:20px;font-weight:300;text-transform:uppercase;}@media screen and (min-width: 52em){.css-178djrr{font-size:24px;}}</style><h5 class="css-178djrr">© Justin Or | Made with Gatsby, Theme-ui and MDX.</h5><header class="css-1517jte"><button class="css-x0mgp8-IconButton"><h2 class="css-otzcoq">J</h2><svg width="3em" height="3em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="transform-origin:50% 50%"><circle cx="11.9998" cy="11.9998" r="5.75375" fill="currentColor" style="transform:scale(1.5);transform-origin:0px 0px"></circle><g style="transform:rotate(45deg);transform-origin:0px 0px"><circle cx="3.08982" cy="6.85502" r="1.71143" transform="rotate(-60 3.08982 6.85502)" fill="currentColor"></circle><circle cx="3.0903" cy="17.1436" r="1.71143" transform="rotate(-120 3.0903 17.1436)" fill="currentColor"></circle><circle cx="12" cy="22.2881" r="1.71143" fill="currentColor"></circle><circle cx="20.9101" cy="17.1436" r="1.71143" transform="rotate(-60 20.9101 17.1436)" fill="currentColor"></circle><circle cx="20.9101" cy="6.8555" r="1.71143" transform="rotate(-120 20.9101 6.8555)" fill="currentColor"></circle><circle cx="12" cy="1.71143" r="1.71143" fill="currentColor"></circle></g></svg></button><button class="css-5oct1l-IconButton"><svg viewBox="0 0 1000 1000" height="32x" width="32px"><path fill="var(--theme-ui-colors-text)" d="M230.5,499l496,491l43-54.8L284.9,444L230.5,499z"></path><path fill="var(--theme-ui-colors-text)" d="M286.6,554L750.9,64l-44.6-54L230.5,499.4L286.6,554z"></path></svg></button></header></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/the-perils-of-web-dev/";window.___webpackCompilationHash="419025ae995a786c84a8";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-bd9369fe085999bbf555.js"],"app":["/app-078b13763d99a0957e00.js"],"polyfills-dom":["/polyfills-dom-7332b207206eea44d9b8.js"],"polyfills-core-js":["/polyfills-core-js-d5339be6e51dfc11b8d8.js"]};/*]]>*/</script><script src="/polyfill-bd9369fe085999bbf555.js" nomodule=""></script><script src="/app-078b13763d99a0957e00.js" async=""></script><script src="/05d954cf-2e4067c921aee2b6a16a.js" async=""></script><script src="/framework-b4c2e49b0265e11fe0b1.js" async=""></script><script src="/webpack-runtime-dfbc60d330bf24dc7417.js" async=""></script></body></html>